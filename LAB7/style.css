html, body {
  height: 100%; /* Встановлює висоту сторінки на 100% висоти екрана */
  margin: 0; /* Прибирає стандартні зовнішні відступи браузера */
  font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif; /* Визначає шрифт для всього тексту */
  background: radial-gradient(ellipse at top left, #0b1640 0%, #071121 60%, #001212 100%); 
  /* Створює фон у вигляді радіального градієнта (еліпс у верхньому лівому куті), 
     який плавно переходить із синьо-фіолетових у темно-зелені відтінки */
  color: #e9e9f0; /* Колір основного тексту на сторінці (світло-сірий) */
}

/* === Контейнер усієї магічної кулі та елементів === */
.magic-container {
  box-sizing: border-box; /* Включає padding і border у розрахунок ширини */
  min-height: 100vh; /* Мінімальна висота — 100% видимої частини екрана */
  display: flex; /* Використовує Flexbox для розташування елементів */
  flex-direction: column; /* Елементи йдуть один під одним (вертикально) */
  align-items: center; /* Вирівнює елементи по центру горизонталі */
  justify-content: center; /* Вирівнює елементи по центру вертикалі */
  padding: 24px; /* Внутрішні відступи з усіх боків */
}

/* === Блок з полем введення питання === */
.question-wrapper {
  width: min(900px, 92%); /* Ширина — або 900px, або 92% ширини екрана (що менше) */
  display: flex; /* Використовує flex для центрування */
  justify-content: center; /* Вирівнює поле введення по центру */
  margin-bottom: 20px; /* Відступ знизу перед наступним елементом */
}

/* === Поле введення тексту (питання до кулі) === */
.question-input {
  width: 100%; /* Займає всю ширину контейнера */
  background: rgba(255,255,255,0.06); /* Напівпрозорий білий фон */
  border: 2px solid rgba(255,255,255,0.08); /* Напівпрозора світла рамка */
  border-radius: 28px; /* Округлені кути поля */
  padding: 14px 20px; /* Внутрішні відступи (зверху/знизу 14px, з боків 20px) */
  font-size: 18px; /* Розмір тексту */
  color: #ffffff; /* Білий колір тексту */
  outline: none; /* При фокусі не показує стандартну рамку браузера */
  transition: box-shadow 0.18s ease, border-color 0.18s ease; /* Плавний перехід при наведенні або фокусі */
}

/* === Ефект при фокусі на полі вводу === */
.question-input:focus {
  box-shadow: 0 0 0 6px rgba(138, 43, 226, 0.12); /* Фіолетова "світлова аура" навколо поля */
  border-color: rgba(138, 43, 226, 0.9); /* Яскравіша рамка при активності */
}

/* === Повідомлення про помилки (підказки) === */
.message-line {
  width: min(900px, 92%); /* Така ж ширина, як і в поля вводу */
  margin-top: 8px; /* Відступ зверху */
  font-size: 14px; /* Менший шрифт */
  color: #ffd1d1; /* Світло-рожевий колір тексту */
  min-height: 18px; /* Мінімальна висота, щоб текст не стрибав при зникненні */
}

/* === Рамка навколо магічної кулі === */
.ball-frame {
  width: min(680px, 86vw); /* Розмір кулі — максимум 680px або 86% ширини вікна */
  height: min(680px, 86vw); /* Висота дорівнює ширині для квадратної форми */
  display: flex; /* Flexbox для центрування кулі */
  align-items: center; /* Центрування по вертикалі */
  justify-content: center; /* Центрування по горизонталі */
  border-radius: 10px; /* Злегка заокруглені кути рамки */
  box-shadow: inset 0 0 0 4px rgba(44, 210, 193, 0.06), 0 12px 40px rgba(0,0,0,0.6); 
  /* Додає внутрішню та зовнішню тінь для об’єму */
  background: linear-gradient(180deg, rgba(20,30,40,0.6), rgba(3,8,12,0.6)); 
  /* Темний градієнтний фон рамки */
  padding: 18px; /* Внутрішній відступ навколо кулі */
}

/* === Власне куля (світиться і показує відповіді) === */
.crystal-ball {
  position: relative; /* Позиціонування для псевдоелемента ::after */
  width: 88%; /* Розмір трохи менший за рамку */
  height: 88%;
  border-radius: 50%; /* Робить елемент круглим */
  background: 
    radial-gradient(circle at 30% 25%, rgba(255,255,255,0.14), transparent 8%), /* Блік світла зверху зліва */
    radial-gradient(circle at 70% 75%, rgba(0,0,0,0.25), transparent 10%), /* Тінь знизу справа */
    conic-gradient(from 90deg at 50% 50%, rgba(255,0,255,0.06), rgba(0,255,255,0.06), rgba(255,255,0,0.06)); 
  /* Легкий кольоровий перелив */
  box-shadow: 
    inset 0 -20px 60px rgba(0,0,0,0.35), /* Тінь всередині */
    0 0 80px rgba(200,120,255,0.06), /* Ніжне світіння */
    0 10px 40px rgba(0,0,0,0.6); /* Зовнішня тінь */
  display: flex; /* Центрування тексту відповіді */
  align-items: center;
  justify-content: center;
  overflow: hidden; /* Обрізає все, що виходить за межі кулі */
}

/* === Декоративний ефект поверх кулі === */
.crystal-ball::after {
  content: ""; /* Створює віртуальний елемент */
  position: absolute;
  inset: 0; /* Розтягується на весь розмір кулі */
  border-radius: 50%; /* Кругла форма */
  background-image: 
    radial-gradient(circle at 50% 40%, rgba(220,220,255,0.06), transparent 25%),
    radial-gradient(circle at 30% 60%, rgba(255,200,255,0.04), transparent 20%),
    linear-gradient(0deg, rgba(255,255,255,0.02), rgba(255,255,255,0.0)); 
  /* Легкі відблиски для ефекту скла */
  mix-blend-mode: screen; /* Змішує кольори з фоном, додаючи ефект світіння */
  filter: blur(6px) saturate(120%); /* Трохи розмиває і підсилює насиченість кольорів */
  transform: scale(1.02); /* Злегка збільшує, щоб виглядало об’ємно */
}

/* === Текст відповіді усередині кулі === */
.answer-label {
  position: relative;
  z-index: 2; /* Поверх усіх інших шарів */
  font-size: clamp(28px, 5vw, 56px); /* Адаптивний розмір шрифту */
  font-weight: 600; /* Напівжирний текст */
  color: rgba(255,255,255,0.95); /* Білий із легким прозорим ефектом */
  text-shadow: 0 4px 12px rgba(0,0,0,0.6); /* Тінь для глибини */
  pointer-events: none; /* Клік мишкою не впливає на текст */
  transition: transform 0.6s cubic-bezier(.2,.9,.3,1), opacity 0.4s ease; 
  /* Плавна поява/зникнення тексту */
}

/* === Світіння відповіді позаду тексту === */
.answer-glow {
  position: absolute;
  z-index: 1; /* Під текстом */
  width: 60%; 
  height: 50%;
  border-radius: 50%; /* Овальна форма */
  filter: blur(24px); /* М’яке розмиття світла */
  background: radial-gradient(circle, rgba(180,120,255,0.35), rgba(80,200,255,0.12)); 
  /* Фіолетово-блакитне сяйво */
  opacity: 0; /* Спочатку невидиме */
  transition: opacity 0.5s ease; /* Плавне з’явлення/зникнення */
}

/* === Панель кнопок під кулею === */
.controls {
  margin-top: 18px; /* Відступ зверху */
  display: flex; /* Розташування кнопок поруч */
  gap: 12px; /* Відстань між кнопками */
  align-items: center; /* Вирівнювання по вертикалі */
}

/* === Стилізація кнопок === */
.control-button {
  background: linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.02)); 
  /* Легкий вертикальний градієнт */
  border: 1px solid rgba(255,255,255,0.08); /* Напівпрозора рамка */
  padding: 10px 16px; /* Внутрішні відступи */
  border-radius: 12px; /* Округлені кути */
  color: #fff; /* Білий текст */
  cursor: pointer; /* Вказівник при наведенні */
  font-size: 16px; /* Розмір шрифту */
  transition: transform 0.12s ease, box-shadow 0.12s ease; /* Плавна реакція на натискання */
}

/* === Ефект при натисканні кнопки === */
.control-button:active {
  transform: translateY(2px); /* Кнопка злегка опускається вниз */
}

/* === Ефект при фокусі (через клавіатуру) === */
.control-button:focus {
  outline: none; /* Прибирає стандартну рамку браузера */
  box-shadow: 0 0 0 6px rgba(138, 43, 226, 0.10); /* Фіолетове підсвічування */
}

/* === Адаптація для телефонів (менше 480px) === */
@media (max-width: 480px) {
  .question-input {
    font-size: 16px; /* Зменшує розмір тексту у полі */
    padding: 12px 14px; /* Менші внутрішні відступи */
  }
  .controls {
    flex-direction: column; /* Розташовує кнопки вертикально */
    gap: 8px; /* Менший відступ між ними */
  }
}